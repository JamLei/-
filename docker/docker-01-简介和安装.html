<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.24">
    <title>Docker 简介和安装 | hemiao3000</title><meta name="description" content="Java Note All in One">
    <link rel="preload" href="/assets/js/runtime~app.98b3ec54.js" as="script"><link rel="preload" href="/assets/css/styles.a89f47c6.css" as="style"><link rel="preload" href="/assets/js/1812.d943ba23.js" as="script"><link rel="preload" href="/assets/js/app.305f9df9.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.a89f47c6.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">hemiao3000</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="环境软件和模板"><span class="title">环境软件和模板</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="环境软件和模板"><span class="title">环境软件和模板</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/windows/01-IDEA.md" class="nav-link" aria-label="Windows"><!--[--><!--]--> Windows <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/linux/00-预备知识.md" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/git/000-安装与配置.md" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docker/01-简介和安装.md" class="nav-link" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docker-install/01-mysql.md" class="nav-link" aria-label="Docker 安装软件"><!--[--><!--]--> Docker 安装软件 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/gist/01-jdbc-logback.md" class="nav-link" aria-label="各种模板"><!--[--><!--]--> 各种模板 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第一阶段"><span class="title">第一阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第一阶段"><span class="title">第一阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>基础</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java/00-环境变量.md" class="nav-link" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/mysql/01-操作Database.md" class="nav-link" aria-label="MySQL 数据库"><!--[--><!--]--> MySQL 数据库 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/jdbc/01-JDBC基础.md" class="nav-link" aria-label="JDBC 操作数据库"><!--[--><!--]--> JDBC 操作数据库 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>进阶</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java-thread/thread-01-base.md" class="nav-link" aria-label="Java 多线程"><!--[--><!--]--> Java 多线程 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java8/02-lambda.md" class="nav-link" aria-label="JDK8 新特性"><!--[--><!--]--> JDK8 新特性 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/utility/guava/01-字符串工具类.md" class="nav-link" aria-label="Guava 工具库"><!--[--><!--]--> Guava 工具库 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/utility/spring-utils/01-top4.md" class="nav-link" aria-label="Spring 内置工具库"><!--[--><!--]--> Spring 内置工具库 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/utility/3rd/01-slf4j.md" class="nav-link" aria-label="其它工具库"><!--[--><!--]--> 其它工具库 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>扩展</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/jvm/01-JVM内存布局.md" class="nav-link" aria-label="Java 虚拟机"><!--[--><!--]--> Java 虚拟机 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第二阶段"><span class="title">第二阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第二阶段"><span class="title">第二阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端基础</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/html/01-基本概念和结构.md" class="nav-link" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/css/01-基本概念.md" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/js/JS-01-基础.md" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><a href="/servlet/Servlet-00-HTTP概述.md" class="nav-link" aria-label="Servlet"><!--[--><!--]--> Servlet <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/junit/JUnit-01-基础.md" class="nav-link" aria-label="JUnit"><!--[--><!--]--> JUnit <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/mybatis/01-mybatis-basics.md" class="nav-link" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端进阶</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/ajax/01-基础.md" class="nav-link" aria-label="AJAX 请求及相关"><!--[--><!--]--> AJAX 请求及相关 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/vue/vue-00-devtool.md" class="nav-link" aria-label="Vue（上）"><!--[--><!--]--> Vue（上） <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第三阶段"><span class="title">第三阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第三阶段"><span class="title">第三阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>SSM</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/maven/001-基本概念.md" class="nav-link" aria-label="Maven"><!--[--><!--]--> Maven <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/spring/01-IoC.md" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/spring-mvc/001-helloworld.md" class="nav-link" aria-label="Spring MVC"><!--[--><!--]--> Spring MVC <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/spring-boot/02-Java代码配置.md" class="nav-link" aria-label="Spring Boot"><!--[--><!--]--> Spring Boot <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端高级</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/restful/01-基础.md" class="nav-link" aria-label="RESTful API"><!--[--><!--]--> RESTful API <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/vue-cli/vue-cli-01.md" class="nav-link" aria-label="Vue（下）"><!--[--><!--]--> Vue（下） <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/nginx/01-前后端分离.md" class="nav-link" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>权限和其它</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/shiro/01-Shiro-基础.md" class="nav-link" aria-label="Shiro"><!--[--><!--]--> Shiro <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/redis/01-简介.md" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第四阶段"><span class="title">第四阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第四阶段"><span class="title">第四阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/spring-cloud/01-spring-cloud.md" class="nav-link" aria-label="Spring Cloud"><!--[--><!--]--> Spring Cloud <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/rabbitmq/01-简介.md" class="nav-link" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/es/00-素材.md" class="nav-link" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/other/01-SnowFlake.md" class="nav-link" aria-label="其它"><!--[--><!--]--> 其它 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="环境软件和模板"><span class="title">环境软件和模板</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="环境软件和模板"><span class="title">环境软件和模板</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/windows/01-IDEA.md" class="nav-link" aria-label="Windows"><!--[--><!--]--> Windows <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/linux/00-预备知识.md" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/git/000-安装与配置.md" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docker/01-简介和安装.md" class="nav-link" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docker-install/01-mysql.md" class="nav-link" aria-label="Docker 安装软件"><!--[--><!--]--> Docker 安装软件 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/gist/01-jdbc-logback.md" class="nav-link" aria-label="各种模板"><!--[--><!--]--> 各种模板 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第一阶段"><span class="title">第一阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第一阶段"><span class="title">第一阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>基础</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java/00-环境变量.md" class="nav-link" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/mysql/01-操作Database.md" class="nav-link" aria-label="MySQL 数据库"><!--[--><!--]--> MySQL 数据库 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/jdbc/01-JDBC基础.md" class="nav-link" aria-label="JDBC 操作数据库"><!--[--><!--]--> JDBC 操作数据库 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>进阶</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/java-thread/thread-01-base.md" class="nav-link" aria-label="Java 多线程"><!--[--><!--]--> Java 多线程 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/java8/02-lambda.md" class="nav-link" aria-label="JDK8 新特性"><!--[--><!--]--> JDK8 新特性 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/utility/guava/01-字符串工具类.md" class="nav-link" aria-label="Guava 工具库"><!--[--><!--]--> Guava 工具库 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/utility/spring-utils/01-top4.md" class="nav-link" aria-label="Spring 内置工具库"><!--[--><!--]--> Spring 内置工具库 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/utility/3rd/01-slf4j.md" class="nav-link" aria-label="其它工具库"><!--[--><!--]--> 其它工具库 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>扩展</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/jvm/01-JVM内存布局.md" class="nav-link" aria-label="Java 虚拟机"><!--[--><!--]--> Java 虚拟机 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第二阶段"><span class="title">第二阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第二阶段"><span class="title">第二阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端基础</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/html/01-基本概念和结构.md" class="nav-link" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/css/01-基本概念.md" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/js/JS-01-基础.md" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><a href="/servlet/Servlet-00-HTTP概述.md" class="nav-link" aria-label="Servlet"><!--[--><!--]--> Servlet <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/junit/JUnit-01-基础.md" class="nav-link" aria-label="JUnit"><!--[--><!--]--> JUnit <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/mybatis/01-mybatis-basics.md" class="nav-link" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端进阶</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/ajax/01-基础.md" class="nav-link" aria-label="AJAX 请求及相关"><!--[--><!--]--> AJAX 请求及相关 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/vue/vue-00-devtool.md" class="nav-link" aria-label="Vue（上）"><!--[--><!--]--> Vue（上） <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第三阶段"><span class="title">第三阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第三阶段"><span class="title">第三阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>SSM</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/maven/001-基本概念.md" class="nav-link" aria-label="Maven"><!--[--><!--]--> Maven <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/spring/01-IoC.md" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/spring-mvc/001-helloworld.md" class="nav-link" aria-label="Spring MVC"><!--[--><!--]--> Spring MVC <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/spring-boot/02-Java代码配置.md" class="nav-link" aria-label="Spring Boot"><!--[--><!--]--> Spring Boot <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>前端高级</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/restful/01-基础.md" class="nav-link" aria-label="RESTful API"><!--[--><!--]--> RESTful API <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/vue-cli/vue-cli-01.md" class="nav-link" aria-label="Vue（下）"><!--[--><!--]--> Vue（下） <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/nginx/01-前后端分离.md" class="nav-link" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>权限和其它</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/shiro/01-Shiro-基础.md" class="nav-link" aria-label="Shiro"><!--[--><!--]--> Shiro <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/redis/01-简介.md" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="第四阶段"><span class="title">第四阶段</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="第四阶段"><span class="title">第四阶段</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/spring-cloud/01-spring-cloud.md" class="nav-link" aria-label="Spring Cloud"><!--[--><!--]--> Spring Cloud <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/rabbitmq/01-简介.md" class="nav-link" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/es/00-素材.md" class="nav-link" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/other/01-SnowFlake.md" class="nav-link" aria-label="其它"><!--[--><!--]--> 其它 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Docker</p><ul class=""><li><!--[--><a href="/docker/01-%E7%AE%80%E4%BB%8B%E5%92%8C%E5%AE%89%E8%A3%85.html" class="nav-link sidebar-item" aria-label="Docker 简介和安装"><!--[--><!--]--> Docker 简介和安装 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/docker/02-%E9%95%9C%E5%83%8F.html" class="nav-link sidebar-item" aria-label="镜像"><!--[--><!--]--> 镜像 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/docker/03-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4.html" class="nav-link sidebar-item" aria-label="Docker 常用命令"><!--[--><!--]--> Docker 常用命令 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/docker/04-compose.html" class="nav-link sidebar-item" aria-label="Docker-Compose"><!--[--><!--]--> Docker-Compose <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="docker-简介和安装" tabindex="-1"><a class="header-anchor" href="#docker-简介和安装" aria-hidden="true">#</a> Docker 简介和安装</h1><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><h3 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念" aria-hidden="true">#</a> 基本概念</h3><p>Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的Linux机器上，也可以实现虚拟化。</p><p>容器是完全使用沙箱机制，相互之间不会有任何接口<small>（类似 iPhone 的 app）</small>。几乎没有性能开销,可以很容易地在机器和数据中心中运行。最重要的是，他们不依赖于任何语言、框架或包括系统。</p><h3 id="实现方式" tabindex="-1"><a class="header-anchor" href="#实现方式" aria-hidden="true">#</a> 实现方式</h3><p>Docker 项目的目标是实现轻量级的操作系统虚拟化解决方案。 Docker 的基础是 Linux 容器（LXC）、Cgroup 等技术。</p><p>在 LXC 的基础上，Docker 进行了进一步的封装，让用户不需要去关心容器的管理，使得操作更为简便。用户操作 Docker 的容器就像操作一个快速轻量级的虚拟机一样简单。</p><h3 id="docker-和传统虚拟化方式的不同" tabindex="-1"><a class="header-anchor" href="#docker-和传统虚拟化方式的不同" aria-hidden="true">#</a> Docker 和传统虚拟化方式的不同</h3><p>容器是在操作系统层面上实现虚拟化，直接复用本地主机的操作系统，而传统方式则是在硬件的基础上，虚拟出自己的系统，再在系统上部署相关的 APP 应用。</p><ul><li><p>传统虚拟化方案：</p><p><img src="https://hemiao3000.gitee.io/java-note-img/images/docker/img/docker_1.png" alt="docker_1"></p></li><li><p>Docker虚拟化方案：</p><p><img src="https://hemiao3000.gitee.io/java-note-img/images/docker/img/docker_2.png" alt="docker_2"></p></li></ul><p>Docker 虚拟化有三个概念需要理解：镜像、容器、仓库。</p><ul><li><p>镜像：docker 的镜像其实就是模板，跟我们常见的 ISO 镜像类似，是一个样板。</p></li><li><p>容器：使用镜像所创建的应用或者系统，我们称之为一个容器。</p></li><li><p>仓库：仓库是存放镜像的地方，分为公开仓库<small>（Public）</small>和私有仓库<small>（Private）</small>两种形式。</p></li></ul><h3 id="docker-虚拟化特点" tabindex="-1"><a class="header-anchor" href="#docker-虚拟化特点" aria-hidden="true">#</a> Docker 虚拟化特点</h3><ul><li><p>操作启动快</p><p>运行时的性能可以获取极大提升，管理操作<small>（启动，停止，开始，重启等等）</small>都是以秒或毫秒为单位的。</p></li><li><p>轻量级虚拟化</p><p>你会拥有足够的『操作系统』，仅需添加或减小镜像即可。在一台服务器上可以布署几百个 Containers 容器。但是传统虚拟化，你虚拟 20 个虚拟机就不错了。</p></li><li><p>开源免费</p><p>开源的，免费的，低成本的。由现代 Linux 内核支持并驱动。<small>轻量的 Container 必定可以在一个物理机上开启更多“容器”，注定比 VMs 要便宜。</small></p></li></ul><h2 id="在-centos-上安装-docker" tabindex="-1"><a class="header-anchor" href="#在-centos-上安装-docker" aria-hidden="true">#</a> 在 CentOS 上安装 Docker</h2><blockquote><p>以下 CentOS 的版本是 8 。另外，以下命令默认以 root 进行操作。<br> 另外，开发环境中，简单起见，记得关闭 Linux 防火墙<br></p><table><thead><tr><th style="text-align:left;">#</th><th style="text-align:left;">命令</th></tr></thead><tbody><tr><td style="text-align:left;">开启</td><td style="text-align:left;"><code>systemctl start firewalld</code></td></tr><tr><td style="text-align:left;">关闭</td><td style="text-align:left;"><code>systemctl stop firewalld</code></td></tr><tr><td style="text-align:left;">查看状态</td><td style="text-align:left;"><code>systemctl status firewalld</code></td></tr><tr><td style="text-align:left;">开机禁用</td><td style="text-align:left;"><code>systemctl disable firewalld</code></td></tr><tr><td style="text-align:left;">开机启用</td><td style="text-align:left;"><code>systemctl enable firewalld</code></td></tr></tbody></table></blockquote><h3 id="前期准备工作" tabindex="-1"><a class="header-anchor" href="#前期准备工作" aria-hidden="true">#</a> 前期准备工作</h3><ul><li><p>查看内核版本</p><p>Docker 官方要求 Linux 内核版本至少 3.8 以上，建议 3.10 以上。通过以下命令可查看内核版本：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">uname</span> -r
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>CentOS 7 的内核版本是满足其要求的。</p></li><li><p>卸载旧版本</p><p>较旧的 Docker 版本称为 <em>docker</em> 或 <em>docker-engine</em> 。如果已安装这些程序，请卸载它们以及相关的依赖项。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum remove docker <span class="token punctuation">\</span>
           docker-client <span class="token punctuation">\</span>
           docker-client-latest <span class="token punctuation">\</span>
           docker-common <span class="token punctuation">\</span>
           docker-latest <span class="token punctuation">\</span>
           docker-latest-logrotate <span class="token punctuation">\</span>
           docker-logrotate <span class="token punctuation">\</span>
           docker-engine
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>前期准备 3：为配置 docker 软件源作准备</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y <span class="token punctuation">\</span>
    yum-utils <span class="token punctuation">\</span>
    device-mapper-persistent-data <span class="token punctuation">\</span>
    lvm2
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>前期准备 4：为 CentOS 添加 docker 软件源</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum-config-manager <span class="token punctuation">\</span>
    --add-repo  <span class="token punctuation">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>截至目前为止，我们干了什么？</p><p>CentOS 的默认的 yum 软件源中实际上有 docker 的安装包，如果直接进行 <code>yum install docker</code> 也是可行的。</p><p>但是 docker 官方考虑到不同的用户对 docker 的不同版本有不同的需求<small>（有人追求最新，有人追求稳定）</small>，他们专门提供了一个仓库/网址用以提供多个版本的 docker 的下载。</p><p>因此，我们必须告知 yum 有这样一个仓库的存在，并且未来要求 yum 从这个仓库中下载我们指定版本的 docker 。<small>而非默认的仓库。</small></p></li><li><p>前期准备 5：查看所有仓库中所有 docker 版本</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul><h3 id="安装-docker-并验证" tabindex="-1"><a class="header-anchor" href="#安装-docker-并验证" aria-hidden="true">#</a> 安装 docker 并验证</h3><h4 id="从网络仓库中下载-安装" tabindex="-1"><a class="header-anchor" href="#从网络仓库中下载-安装" aria-hidden="true">#</a> 从网络仓库中下载，安装</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y docker-ce
或
yum <span class="token function">install</span> -y docker-ce-xxx
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上述命令中的 <code>xxx</code> 是指定的版本。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y docker-ce-18.06.3.ce-3.el7
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>安装过程中会出现类似如下询问：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>从 https://download.docker.com/linux/centos/gpg 检索密钥
导入 GPG key 0x621E9F35:
 用户ID     : &quot;Docker Release (CE rpm) &lt;docker@docker.com&gt;&quot;
 指纹       : 060a 61c5 1b55 8a7f 742b 77aa c52f eb6b 621e 9f35
 来自       : https://download.docker.com/linux/centos/gpg
是否继续？[y/N]：
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>输入 <code>y</code> 按回车继续安装。</p><p>最终会出现：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>完毕！
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="启动-docker-并将其加入开机启动" tabindex="-1"><a class="header-anchor" href="#启动-docker-并将其加入开机启动" aria-hidden="true">#</a> 启动 Docker，并将其加入开机启动</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># systemctl start docker</span>

systemctl <span class="token builtin class-name">enable</span> docker --now

systemctl status docker
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>会出现类似如下结果：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="验证安装是否成功" tabindex="-1"><a class="header-anchor" href="#验证安装是否成功" aria-hidden="true">#</a> 验证安装是否成功</h4><p><small>（有 client 和 service 两部分表示 docker 安装启动都成功了）</small></p><p>输入 <code>docker version</code> 命令，会出现类似如下内容：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Client:
  Version:    <span class="token number">17.12</span>.1-ce
  API version:    <span class="token number">1.35</span>
  Go version:    go1.9.4
  Git commit:    7390fc6
  Built:    Tue Feb <span class="token number">27</span> <span class="token number">22</span>:15:20 <span class="token number">2018</span>
  OS/Arch:    linux/amd64

Server:
 Engine:
   Version:    <span class="token number">17.12</span>.1-ce
   API version:    <span class="token number">1.35</span> <span class="token punctuation">(</span>minimum version <span class="token number">1.12</span><span class="token punctuation">)</span>
   Go version:    go1.9.4
   Git commit:    7390fc6
   Built:    Tue Feb <span class="token number">27</span> <span class="token number">22</span>:17:54 <span class="token number">2018</span>
   OS/Arch:    linux/amd64
   Experimental:    <span class="token boolean">false</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="验证连接-docker-hub-中央镜像仓库" tabindex="-1"><a class="header-anchor" href="#验证连接-docker-hub-中央镜像仓库" aria-hidden="true">#</a> 验证连接 docker hub 中央镜像仓库</h4><p>输入 <code>docker search -f is-official=true mysql</code> 命令，会出现类似如下结果：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>NAME     DESCRIPTION                                     STARS  OFFICIAL <span class="token punctuation">..</span>.
mysql    MySQL is a widely used, open-source relation…   <span class="token number">8819</span>   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>     <span class="token punctuation">..</span>.
mariadb  MariaDB is a community-developed fork of MyS…   <span class="token number">3102</span>   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>     <span class="token punctuation">..</span>.
percona  Percona Server is a fork of the MySQL relati…   <span class="token number">459</span>    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>     <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="配置国内镜像" tabindex="-1"><a class="header-anchor" href="#配置国内镜像" aria-hidden="true">#</a> 配置国内镜像</h3><p>由于 docker hub 的中央镜像仓库在国外，因此有时我们连接 docker hub 从中下载镜像速度会很感人，因此，我们需要配置国内的镜像网址，从国内现在镜像文件。</p><pre><code>国内的镜像本质上就是 docker hub 中央仓库在国内的一份缓存/备份。
</code></pre><p>通过 vi 命令编辑相关配置文件：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /etc/docker/daemon.json 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果该文件存在，则将其内容清除；如果文件不存在，<small>（打开该文件后，其内容是空白的），</small>编辑结束后保存退出，即创建。</p><p>输入如下内容：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https://registry.docker-cn.com&quot;</span>,
    <span class="token string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><small>该配置文件配置了两个镜像，一个是 docker 官方在中国境内的官方镜像，一个是中科大维护的一个镜像。</small></p><p>重新启动 docker 服务：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl restart docker
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>查看修改结果：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker info
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>会有如下内容：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>...
Registry Mirrors:
 https://registry.docker-cn.com/
 https://docker.mirrors.ustc.edu.cn/
...
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="导入已有的镜像文件" tabindex="-1"><a class="header-anchor" href="#导入已有的镜像文件" aria-hidden="true">#</a> 导入已有的镜像文件</h3><p>考虑到有些场景下的联网的不方便，docker 提供了将已下载的 images 打包导出，再在别处导入的功能。</p><p>导出已有 image 使用命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker save <span class="token operator">&lt;</span>repository<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>tag<span class="token operator">&gt;</span> -o <span class="token operator">&lt;</span>repository<span class="token operator">&gt;</span>.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker save mysql:5.7 -o mysql-5.7.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>导入 image 使用命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker load -i <span class="token operator">&lt;</span>repository<span class="token operator">&gt;</span>.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker load -i mysql-5.7.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="ubuntu-上安装-docker" tabindex="-1"><a class="header-anchor" href="#ubuntu-上安装-docker" aria-hidden="true">#</a> Ubuntu 上安装 Docker</h2><blockquote><p>以下 CentOS 的版本是 8 。另外，以下命令默认以 root 进行操作。<br> 另外，开发环境中，简单起见，记得关闭 Linux 防火墙<br></p><table><thead><tr><th style="text-align:left;">#</th><th style="text-align:left;">命令</th></tr></thead><tbody><tr><td style="text-align:left;">查看状态</td><td style="text-align:left;"><code>sudo ufw status</code></td></tr><tr><td style="text-align:left;">开启并开机启动</td><td style="text-align:left;"><code>sudo ufw enable</code></td></tr><tr><td style="text-align:left;">关闭</td><td style="text-align:left;"><code>sudo ufw disable</code></td></tr></tbody></table><p>Ubuntu 的防火墙默认是关闭的。</p></blockquote><h3 id="前期准备工作-1" tabindex="-1"><a class="header-anchor" href="#前期准备工作-1" aria-hidden="true">#</a> 前期准备工作</h3><p>Ubuntu 的默认的 apt 软件源中实际上有 docker 的安装包，理论上来说，你直接利用默认软件源中的 docker 安装包进行安装也是可行的。</p><p>但是 docker 官方考虑到不同的用户对 docker 的不同版本有不同的需求<small>（有人追求最新，有人追求稳定）</small>，他们专门提供了一个仓库用以提供多个版本的 docker 的下载。</p><p>另外，通常 apt 默认软件源中的软件的版本并不一定是最新版。</p><p>因此，我们必须『告知』apt 有这样一个仓库的存在，并且未来要求 apt 从这个仓库中下载我们指定版本的 docker 。<small>而非默认的仓库。</small></p><ol><li><p>查看内核版本</p><p>Docker 官方要求 Linux 内核版本至少 <code>3.8</code> 以上，建议 <code>3.10</code> 以上。Ubuntu 18.04 的内核是符合其要求的。</p><p>通过以下命令可查看内核版本：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">uname</span> -r
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>卸载旧版本</p><p>较旧的 Docker 版本称为 <em>docker</em> 或 <em>docker-engine</em> 。如果已安装这些程序，请卸载它们以及相关的依赖项。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> remove <span class="token punctuation">\</span>
        docker <span class="token punctuation">\</span>
        docker-engine <span class="token punctuation">\</span>
        docker-ce <span class="token punctuation">\</span>
        docker.io
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>为配置 docker 软件源作准备</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token punctuation">\</span>
        apt-transport-https <span class="token punctuation">\</span>
        ca-certificates <span class="token punctuation">\</span>
        <span class="token function">curl</span> <span class="token punctuation">\</span>
        software-properties-common
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><small>这一步操作是为下一步操作作准备工作。</small></p></li><li><p>为 apt 将要添加的 docker 软件源添加校验</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -fsSL https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><small>这一步操作是为下一步操作作准备工作。</small></p></li><li><p>为 apt 添加 docker 官方软件源</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> add-apt-repository <span class="token punctuation">\</span>
  <span class="token string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
  <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> \
  stable&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这步操作的最直观的效果就是：你的 <strong>/etc/apt/sources.list</strong> 文件中会『多出来一行』<small>（一个远程仓库的网址）</small></p><p>记得执行以此 <strong>sudo apt update</strong>，去更新『软件清单』。</p></li><li><p>验证仓库是否添加成功：查看所有仓库中所有 docker 版本</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">apt-cache</span> madison docker-ce
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ol><h3 id="安装-docker-并验证-1" tabindex="-1"><a class="header-anchor" href="#安装-docker-并验证-1" aria-hidden="true">#</a> 安装 docker 并验证</h3><h4 id="从网络仓库中下载-安装-1" tabindex="-1"><a class="header-anchor" href="#从网络仓库中下载-安装-1" aria-hidden="true">#</a> 从网络仓库中下载，安装</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token punctuation">\</span>
  docker-ce <span class="token punctuation">\</span>
  docker-ce-cli <span class="token punctuation">\</span>
  containerd.io
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在没有指定版本的情况下，apt 下载的是软件源中的最新版。如果想要指定特定版本，则使用如下语法：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token punctuation">\</span>
  docker-ce<span class="token operator">=</span><span class="token operator">&lt;</span>VERSION_STRING<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  docker-ce-cli<span class="token operator">=</span><span class="token operator">&lt;</span>VERSION_STRING<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  containerd.io
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>带入特定版本号，例如：<code>5:19.03.13~3-0~ubuntu-bionic</code> 。</p><h4 id="启动-docker" tabindex="-1"><a class="header-anchor" href="#启动-docker" aria-hidden="true">#</a> 启动 Docker</h4><p>类似于 MySQL，<strong>Docker 也是基于 CS 架构的</strong>。你的 Ubuntu 上存在一个 Docker 服务端和一个 Docker 客户端。</p><p>要使用 Docker 的前提是：确保 Docker 的服务端启动了。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 启动 docker 服务端</span>
<span class="token function">sudo</span> systemctl start docker

<span class="token comment"># 将 docker 服务端设置为开机启动</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> docker
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="验证安装是否成功-1" tabindex="-1"><a class="header-anchor" href="#验证安装是否成功-1" aria-hidden="true">#</a> 验证安装是否成功</h4><p>Docker 是 CS 架构的，<strong>docker 的服务端是以 docker 用户</strong><small>（属于 docker 用户组）</small>身份运行的，因此你去执行 docker 命令时，你的身份<small>（和权限）</small>是不符合的。</p><p>当你通过 <strong>docker version</strong> 命令去验证安装是否成功时，会出现如下信息：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Got permission denied <span class="token keyword">while</span> trying to connect to the Docker daemon socket <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> connect: permission denied
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><small>有 client 和 server 两部分表示 docker 安装启动都成功了。</small></p><p>解决办法有 2 个：</p><ol><li><p>你所执行的所有的 docker 命令前面都加上 <strong>sudo</strong> 。将你的身份临时提升为 root，root 自然是有权限执行 docker 命令的。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> docker version
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>将你自己添加到 docker 用户组中。你和 docker 用户所属同一个用户组，你的自然就有权限执行 docker 命令。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 创建名为 docker 的用户组。</span>
<span class="token comment"># 正常情况下，这条命令的结果会告诉你 docker 用户组已存在。</span>
<span class="token function">sudo</span> <span class="token function">groupadd</span> docker 

<span class="token comment"># 将当前用户（即你所登录系统的账号）添加至 docker 用户组</span>
<span class="token function">sudo</span> gpasswd -a <span class="token environment constant">$USER</span> docker 

<span class="token comment"># 更新 docker 用户组</span>
newgrp docker 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol><h4 id="验证连接-docker-hub-中央镜像仓库-1" tabindex="-1"><a class="header-anchor" href="#验证连接-docker-hub-中央镜像仓库-1" aria-hidden="true">#</a> 验证连接 docker hub 中央镜像仓库</h4><p>输入 <code>docker search -f is-official=true mysql</code> 命令，会出现类似如下结果：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>NAME     DESCRIPTION                                     STARS  OFFICIAL <span class="token punctuation">..</span>.
mysql    MySQL is a widely used, open-source relation…   <span class="token number">8819</span>   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>     <span class="token punctuation">..</span>.
mariadb  MariaDB is a community-developed fork of MyS…   <span class="token number">3102</span>   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>     <span class="token punctuation">..</span>.
percona  Percona Server is a fork of the MySQL relati…   <span class="token number">459</span>    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>     <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="配置国内镜像-1" tabindex="-1"><a class="header-anchor" href="#配置国内镜像-1" aria-hidden="true">#</a> 配置国内镜像</h3><p>由于 docker hub 的中央镜像仓库在国外，因此有时我们连接 docker hub 从中下载镜像速度会很感人，因此，我们需要配置国内的镜像网址，从国内现在镜像文件。</p><pre><code>国内的镜像本质上就是 docker hub 中央仓库在国内的一份缓存/备份。
</code></pre><p>通过 vi 命令编辑相关配置文件：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vi</span> /etc/docker/daemon.json 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果该文件存在，则将其内容清除；如果文件不存在，<small>（打开该文件后，其内容是空白的），</small>编辑结束后保存退出，即创建。</p><p>输入如下内容：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https://registry.docker-cn.com&quot;</span>,
    <span class="token string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><small>该配置文件配置了两个镜像，一个是 docker 官方在中国境内的官方镜像，一个是中科大维护的一个镜像。</small></p><p>重新启动 docker 服务：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart docker
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>查看修改结果：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker info
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>会有如下内容：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>...
Registry Mirrors:
 https://registry.docker-cn.com/
 https://docker.mirrors.ustc.edu.cn/
...
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="导入已有的镜像文件-1" tabindex="-1"><a class="header-anchor" href="#导入已有的镜像文件-1" aria-hidden="true">#</a> 导入已有的镜像文件</h3><p>考虑到有些场景下的联网的不方便，docker 提供了将已下载的 images 打包导出，再在别处导入的功能。</p><p>导出已有 image 使用命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker save <span class="token operator">&lt;</span>repository<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>tag<span class="token operator">&gt;</span> -o <span class="token operator">&lt;</span>repository<span class="token operator">&gt;</span>.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker save mysql:5.7 -o mysql-5.7.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>导入 image 使用命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker load -i <span class="token operator">&lt;</span>repository<span class="token operator">&gt;</span>.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker load -i mysql-5.7.tar
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">2021/8/23 下午5:35:44</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: hemiao3000@126.com">hemiao</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.98b3ec54.js" defer></script><script src="/assets/js/1812.d943ba23.js" defer></script><script src="/assets/js/app.305f9df9.js" defer></script>
  </body>
</html>
