"use strict";(self.webpackChunkjava_note_vuepress2=self.webpackChunkjava_note_vuepress2||[]).push([[8693],{2371:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-bdebdda8",path:"/git/004-%E6%AF%94%E8%BE%83%E6%96%87%E4%BB%B6%E5%B7%AE%E5%BC%82.html",title:"比较文件差异",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"git diff",slug:"git-diff",children:[]},{level:2,title:"git difftool",slug:"git-difftool",children:[]}],filePathRelative:"git/004-比较文件差异.md",git:{updatedTime:1629711344e3,contributors:[{name:"hemiao",email:"hemiao3000@126.com",commits:1}]}}},14306:(n,s,a)=>{a.r(s),a.d(s,{default:()=>e});const t=(0,a(66252).uE)('<h1 id="比较文件差异" tabindex="-1"><a class="header-anchor" href="#比较文件差异" aria-hidden="true">#</a> 比较文件差异</h1><h2 id="git-diff" tabindex="-1"><a class="header-anchor" href="#git-diff" aria-hidden="true">#</a> git diff</h2><p>对比『<strong>工作空间中的文件</strong>』与当前 Git 本地仓库中的最新版、最近版，也就是 <strong>HEAD</strong> 版本之间的差异，使用命令 <strong>git diff &lt;文件名&gt;</strong> 。</p><p>不过，<strong>git diff</strong>，只在终端里显示并不够直观，像是这样：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> <span class="token function">diff</span>\n<span class="token function">diff</span> --git a/22 b/22\nindex e69de29<span class="token punctuation">..</span>d83fdff <span class="token number">100644</span>\n--- a/22\n+++ b/22\n@@ -0,0 +1 @@\n+ddddddddddddddddddddd\n<span class="token punctuation">\\</span> No newline at end of <span class="token function">file</span>\n<span class="token function">diff</span> --git a/4.txt b/4.txt\nindex e69de29<span class="token punctuation">..</span>abaef31 <span class="token number">100644</span>\n--- a/4.txt\n+++ b/4.txt\n@@ -0,0 +1 @@\n:<span class="token punctuation">..</span>.skipping<span class="token punctuation">..</span>.\n<span class="token function">diff</span> --git a/22 b/22\nindex e69de29<span class="token punctuation">..</span>d83fdff <span class="token number">100644</span>\n--- a/22\n+++ b/22\n@@ -0,0 +1 @@\n+ddddddddddddddddddddd\n<span class="token punctuation">\\</span> No newline at end of <span class="token function">file</span>\n<span class="token function">diff</span> --git a/4.txt b/4.txt\nindex e69de29<span class="token punctuation">..</span>abaef31 <span class="token number">100644</span>\n--- a/4.txt\n+++ b/4.txt\n@@ -0,0 +1 @@\n+ssdddddddddddddddddd\n<span class="token punctuation">\\</span> No newline at end of <span class="token function">file</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><blockquote><p>强烈建议使用类似 Beyond Compare 这样的独立的第三方比较工具来进行比较。</p><p>另外，有些 Git 客户端也自带了类似的内容比较界面。</p></blockquote><h2 id="git-difftool" tabindex="-1"><a class="header-anchor" href="#git-difftool" aria-hidden="true">#</a> git difftool</h2><p>对于以上信息，很不容易阅读/分析。这时候借助其他的可视化工具就派上用场了，例如以 vscode 作为 git 的 difftool。</p><p>打开 git 的配置文件 <strong>.gitconfig</strong> 文件，添加如下内容：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[diff]\n    tool = default-difftool\n[difftool &quot;default-difftool&quot;]\n    cmd = code --wait --diff $LOCAL $REMOTE\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>自此，以后可使用 <strong>git difftool 文件名</strong> 命令替代 <strong>git diff 文件名</strong> 命令。</p><p>如果想比较文件的某两个版本间的差异，使用命令</p><ul><li><p><strong>git difftool &lt;Commit节点1&gt; &lt;Commit节点2&gt; &lt;文件名&gt;</strong></p></li><li><p>例如：<strong>git difftool HEAD HEAD^1 1.txt</strong></p></li></ul><p>如果执行 <strong>git difftool</strong> 之后没有任何结果，就表示文件没有再被修改。</p><blockquote><p>如果要对比全部的文件，可以将文件换成 <strong>.</strong>，也就是 <strong>git difftool HEAD HEAD^1 .</strong> 或直接省略文件名也可以。</p></blockquote><p>如果执行 <strong>git difftool</strong> 指令时没有带版本选项，那么就是比较本地文件与缓存<small>（或仓库最新版本）</small>之间的差异。这种情况下：</p><ul><li><p>Git 首先尝试比较：暂存区内容 VS 本地内容。</p></li><li><p>如果缓存区中没有该文件，Git 则尝试比较：本地仓库中的 HEAD 版本 VS 本地内容。<small>HEAD 节点永远代表最新的 Commit 。</small></p></li></ul><p>每一个 Commit 节点都会有一个父节点，HEAD 节点的父节点可以写成 <strong>HEAD~1</strong>，也可写成 <strong>HEAD^1</strong>，可进一步简写成 <strong>HEAD^</strong> 。</p><p>当前节点的爷爷节点 表示为：<strong>HEAD~2</strong>。<small>注意不能写成 <strong>HEAD^2</strong>，它表示另一种含义</small>。</p>',19),e={render:function(n,s){return t}}}}]);