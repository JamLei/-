"use strict";(self.webpackChunkjava_note_vuepress2=self.webpackChunkjava_note_vuepress2||[]).push([[9367],{2539:(e,t,s)=>{s.r(t),s.d(t,{data:()=>i});const i={key:"v-c1dc5696",path:"/windows/12-Redis%E8%A7%A3%E5%8E%8B%E7%89%88.html",title:"Redis 解压版",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[],filePathRelative:"windows/12-Redis解压版.md",git:{updatedTime:1629711344e3,contributors:[{name:"hemiao",email:"hemiao3000@126.com",commits:1}]}}},94687:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var i=s(66252);const r=(0,i.uE)('<h1 id="redis-解压版" tabindex="-1"><a class="header-anchor" href="#redis-解压版" aria-hidden="true">#</a> Redis 解压版</h1><p>有些软件对于安装路径有一定的要求，例如：路径中不能有空格，不能有中英文，不能有特殊符号，等等。</p><p>为了避免不必要的麻烦，也懒得一一辨别踩坑，我们人为作出「<strong>统一的约定</strong>」：</p><ul><li><p>安装版的软件，一律安装在软件的默认安装路径，不要去改变它。<small>默认在哪就是哪，别动。</small></p></li><li><p>解压版的软件，一律安装在：<strong>D:\\ProgramFiles</strong> 。这是一个没中文、没空格的路径！</p></li></ul><hr>',5),n=(0,i.Uk)("从 "),d={href:"https://github.com/MicrosoftArchive/redis/releases/",target:"_blank",rel:"noopener noreferrer"},l=(0,i.Uk)("https://github.com/MicrosoftArchive/redis/releases/"),a=(0,i.Uk)(" 上下载 Redis 3.2.100"),o=(0,i._)("small",null,"（这是解压免安装版的最高版本）",-1),p=(0,i.Uk)("。"),c=(0,i.uE)('<p>解压 <strong><code>.zip</code></strong> 包后会看到类似如下内容</p><p><img src="https://hemiao3000.gitee.io/java-note-img/images/windows/img/redis-install-01.png" alt="redis-install-01.png"></p><table><thead><tr><th style="text-align:left;">文件名</th><th style="text-align:left;">简要</th></tr></thead><tbody><tr><td style="text-align:left;">redis-benchmark.exe</td><td style="text-align:left;">基准测试</td></tr><tr><td style="text-align:left;">redis-check-aof.exe</td><td style="text-align:left;">aof</td></tr><tr><td style="text-align:left;">redischeck-dump.exe</td><td style="text-align:left;">dump</td></tr><tr><td style="text-align:left;"><strong>redis-cli.exe</strong></td><td style="text-align:left;">客户端</td></tr><tr><td style="text-align:left;"><strong>redis-server.exe</strong></td><td style="text-align:left;">服务器</td></tr><tr><td style="text-align:left;"><strong>redis.windows.conf</strong></td><td style="text-align:left;">配置文件</td></tr></tbody></table><p>进入 redis 的解压目录，执行如下命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>redis-server.exe redis.windows.conf --maxmemory 200M\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>其中 <strong><code>--maxmemory 200M</code></strong> 是可选部分，它表示指定 redis 使用的最大内存，如不指定，redis 则使用默认的配置值。</p><p><img src="https://hemiao3000.gitee.io/java-note-img/images/windows/img/redis-install-02.png" alt="redis-install-02.png"></p><p>当出现此界面的时候，说明启动成功，Redis 正监听端口 <strong>6379</strong>，等待客户端发起连接。</p><p>重新打开一个命令行终端，执行如下命令：</p><p><img src="https://hemiao3000.gitee.io/java-note-img/images/windows/img/redis-install-03.png" alt="redis-install-03.png"></p><p><strong>默认连接 Redis 是不需要密码的</strong>，因为配置文件 <strong>redis.windows.conf</strong> 中并没有指定认证密码。</p><p>如有需要，打开 <em><code>redis.window.conf</code></em> 找到 <code># requirepass foobared</code>（这一行是注释），去掉注释符 <code>#</code> 或者在其下新增内容：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>requirepass 123456\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>关闭 redis 服务端，再重新启动。现在在客户端窗口第一次输入命令时，redis 会给出 <code>(error) NOAUTH Authentication required.</code> 提示，要求你提供密码，为此你必须使用 <strong>auth</strong> 命令：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>127.0.0.1:6379&gt; auth 123456\nOK\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>或者在 <code>redis-cli</code> 连接的时候，就指定密码：<code>redis-cli.exe -a 123456</code></p><p>其实本质上，redis-cli 的完整格式是：<code>redis-cli.exe -h &lt;指定ip&gt; -p &lt;指定端口&gt; -a &lt;指定密码&gt;</code></p><p>强行终止 Redis Server 进程可能会导致 redis 持久化数据丢失。正确停止 Redis 的方式应该是向 Redis 发送 SHUTDOWN 命令，方法为：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./redis-cli.exe shutdown \n./redis-cli.exe -h 192.168.25.130 -p 6379 shutdown \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',19),g={render:function(e,t){const s=(0,i.up)("OutboundLink");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i._)("p",null,[n,(0,i._)("a",d,[l,(0,i.Wm)(s)]),a,o,p]),c],64)}}}}]);