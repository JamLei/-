"use strict";(self.webpackChunkjava_note_vuepress2=self.webpackChunkjava_note_vuepress2||[]).push([[1135],{16861:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-3ef3a0d5",path:"/vue/vue-07-WebStorage.html",title:"HTML5 的 web storage",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"Window 的 sessionStorage 属性",slug:"window-的-sessionstorage-属性",children:[]},{level:2,title:"Window 的 localStorage 属性",slug:"window-的-localstorage-属性",children:[]}],filePathRelative:"vue/vue-07-WebStorage.md",git:{updatedTime:1629711344e3,contributors:[{name:"hemiao",email:"hemiao3000@126.com",commits:1}]}}},94603:(n,s,a)=>{a.r(s),a.d(s,{default:()=>t});const e=(0,a(66252).uE)('<h1 id="html5-的-web-storage" tabindex="-1"><a class="header-anchor" href="#html5-的-web-storage" aria-hidden="true">#</a> HTML5 的 web storage</h1><p>HTML5 中的 web storage 包含两种存储方式：<strong>localStorage</strong> 和 <strong>sessionStorage</strong>，这两种方式存储的数据不会自动发给服务器，仅仅是本地保存。</p><p><strong>localStorage</strong> 是持久化的本地保存，只要你没有主动删掉，就会『<strong>一直存在</strong>』。<small>就像一些缓存，都把 APP 删了还有。</small></p><blockquote><p>它不像 Cookie 可以设置超时时间，能到期后自动删除。</p></blockquote><p><strong>sessionStorage</strong> 是会话级别的本地保存，比如一个页面关闭的时候该页面设置的 <strong>sessionStorage</strong> 数据会自动消失，在不同浏览器窗口不会共享的，即使是同一个浏览器的同一个页面。</p><blockquote><p>注意，同一个窗口中的不同的 tab 算不同会话。</p></blockquote><h2 id="window-的-sessionstorage-属性" tabindex="-1"><a class="header-anchor" href="#window-的-sessionstorage-属性" aria-hidden="true">#</a> Window 的 sessionStorage 属性</h2><p>注意，在存储数据的时候，各种类型的数据都会被转换成字符串后再存入。因此，在读取数据的时候，你的可能需要做反向的转换操作。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 保存数据语法：</span>\nsessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 读取数据</span>\n<span class="token keyword">var</span> lastname <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 删除指定键的数据</span>\nsessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 删除所有数据</span>\nsessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="window-的-localstorage-属性" tabindex="-1"><a class="header-anchor" href="#window-的-localstorage-属性" aria-hidden="true">#</a> Window 的 localStorage 属性</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 保存数据语法</span>\nlocalStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 读取数据语法</span>\n<span class="token keyword">var</span> lastname <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 删除数据语法</span>\nlocalStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',11),t={render:function(n,s){return e}}}}]);