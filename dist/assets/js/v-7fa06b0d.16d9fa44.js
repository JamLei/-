"use strict";(self.webpackChunkjava_note_vuepress2=self.webpackChunkjava_note_vuepress2||[]).push([[7800],{92525:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-7fa06b0d",path:"/utility/custom/ValidateCodeUtils.html",title:"",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[],filePathRelative:"utility/custom/ValidateCodeUtils.md",git:{updatedTime:1629711344e3,contributors:[{name:"hemiao",email:"hemiao3000@126.com",commits:1}]}}},54921:(n,s,a)=>{a.r(s),a.d(s,{default:()=>l});var e=a(66252);const t={class:"language-java ext-java line-numbers-mode"},r=[(0,e.uE)('<pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ValidateCodeUtils</span> <span class="token punctuation">{</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/*\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;java.util.Random&quot;%&gt;\n&lt;%@ page import=&quot;java.io.OutputStream&quot;%&gt;\n&lt;%@ page import=&quot;java.awt.Color&quot;%&gt;\n&lt;%@ page import=&quot;java.awt.Font&quot;%&gt;\n&lt;%@ page import=&quot;java.awt.Graphics&quot;%&gt;\n&lt;%@ page import=&quot;java.awt.image.BufferedImage&quot;%&gt;\n&lt;%@ page import=&quot;javax.imageio.ImageIO&quot;%&gt;\n\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;%\n\tint width = 80;\n\tint height = 32;\n\t//create the image\n\tBufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n\tGraphics g = image.getGraphics();\n\t// set the background color\n\tg.setColor(new Color(0xDCDCDC));\n\tg.fillRect(0, 0, width, height);\n\t// draw the border\n\tg.setColor(Color.black);\n\tg.drawRect(0, 0, width - 1, height - 1);\n\t// create a random instance to generate the codes\n\tRandom rdm = new Random();\n\tString hash1 = Integer.toHexString(rdm.nextInt());\n\tSystem.out.print(hash1);\n\t// make some confusion\n\tfor (int i = 0; i &lt; 50; i++) {\n\t\tint x = rdm.nextInt(width);\n\t\tint y = rdm.nextInt(height);\n\t\tg.drawOval(x, y, 0, 0);\n\t}\n\n\t// generate a random code\n\tString capstr = hash1.substring(0, 4);\n\tsession.setAttribute(&quot;key&quot;, capstr);\n\tg.setColor(new Color(0, 100, 0));\n\tg.setFont(new Font(&quot;Candara&quot;, Font.BOLD, 24));\n\tg.drawString(capstr, 8, 24);\n\tg.dispose();\n\tresponse.setContentType(&quot;image/jpeg&quot;);\n\tout.clear();\n\tout = pageContext.pushBody();\n\tOutputStream strm = response.getOutputStream();\n\tImageIO.write(image, &quot;jpeg&quot;, strm);\n\tstrm.close();\n%&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n */</span>\n\n<span class="token comment">/*\n&lt;img id=&quot;loginform:vCode&quot;\n\t\tsrc=&quot;${pageContext.request.contextPath }/validatecode.jsp&quot;\n\t\tonclick=&quot;javascript:document.getElementById(&#39;loginform:vCode&#39;).src=&#39;${pageContext.request.contextPath }/validatecode.jsp?&#39;+Math.random();&quot; /&gt;\n */</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div>',2)],l={render:function(n,s){return(0,e.wg)(),(0,e.iD)("div",t,r)}}}}]);